---
import Layout from '../../Base.astro';
import Tease from '../../components/Tease.astro';
import BlogArchiveSidebar from '../../components/BlogArchiveSidebar.astro';

const requestPosts = await fetch(`${import.meta.env.PUBLIC_WP_URL}/posts?per_page=100`);
const posts = await requestPosts.json();
---

<Layout title='The Kelp Blog' darkHeader={true} bodyClass='blog-archive'>
	<article class='wrapper archive'>
		<BlogArchiveSidebar />
		{posts.map((post) => <Tease post={post} />)}
	</article>
</Layout>
