---
import Layout from "../../Base.astro";
import { Picture } from "astro-imagetools/components";
const response = await fetch(`${import.meta.env.PUBLIC_WP_URL}/posts?per_page=100`);
const posts = await response.json();
---

<Layout title='Kelp Current'>
	<article class="archive">
		<div class='wrapper wrapper--narrow'>
			<h1 style="margin-top: 8rem;" data-splitting data-lg-reveal="fade" data-lg-reveal-stagger="0.05">The Kelp Current</h1>
			<p style="font-size: var(--step-1); max-width: 800px;" data-lg-reveal="fade" data-lg-reveal-delay=".5">
				Here you'll find expert tips and tricks from the best of Kelp. Design tips, development tricks, and maybe even some tasty strategy treats.</p>
		</div>
		<div class="wrapper archive-list">
				{
					posts.map((post) => (
						<article data-lg-reveal="layer-to-right" data-lg-reveal-stagger="0.2">
							<div class="media">
								<Picture src={post.fimg_url} alt={post.title.rendered} loading="lazy" />
							</div>
							<div class="text">
								<h2 class="h4"><a href=`/blog/${post.slug}` set:html={post.title.rendered}/></h2>
								<div set:html={post.excerpt.rendered} />
							</div>
						</article>
					))
				}
		</div>
	</article>
</Layout>
