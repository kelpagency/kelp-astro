<header class='header' transition:persist>
	<div class='wrapper'>
		<a href='/' class='header-logo' data-astro-prefetch>
			<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 127.1 50' width='127.1' height='50'>
				<title>Kelp</title>
				<path
					class='header-logo-text'
					d='M92.41 3.5h4.41v41.53h-4.4zM113.72 18a13.37 13.37 0 0 0-8.76 3.26l-.14.13v-2.4h-4.34v31h4.34v-8.63l.14.12a13.38 13.38 0 1 0 8.76-23.49Zm0 22.28a8.9 8.9 0 1 1 8.9-8.9 8.91 8.91 0 0 1-8.9 8.9ZM78.6 15.9a12.2 12.2 0 1 0-1.43 24.3 12.28 12.28 0 0 0 10.8-6.5l.3-.57-4.97.02-.12.13a7.98 7.98 0 0 1-13.66-3.08l15.37-.06v.01l4.32-.01.05-.33.05-.39A12.2 12.2 0 0 0 78.59 15.9Zm6.32 10.12-15.47.06a7.98 7.98 0 0 1 15.47-.06Z'
				></path>
				<path
					class='header-logo-text'
					d='M71.36 12.99v-.95h-6.59a157.5 157.5 0 0 1-20.57 15.8s.04-22.24.04-24.35h-4.95l-.04 41.33h4.95V34.23a1.8 1.8 0 0 1 .82-1.5l2.56-1.68a4.3 4.3 0 0 1 2.45-.76 4.35 4.35 0 0 1 3.38 1.6l10.13 12.5a1.68 1.68 0 0 0 1.15.44h6.67v-2.3a11.98 11.98 0 0 1-2.66-1.5 19.4 19.4 0 0 1-2.53-2.2l-11.7-12.52.54-.4c11.34-8.54 16.35-12.92 16.35-12.92Z'
				></path>
				<path
					d='M20.8 26.78c-.13-.73-1.28-1.48-2.21-2.08l-.58-.38a2.98 2.98 0 0 1-1.47-2.22 2.6 2.6 0 0 1 1.1-2.2l1.56-.95c1.34-.81 1.84-1.99 1.32-3.07-.27-.74-1.53-1.49-2.55-2.09l-.76-.46a2.62 2.62 0 0 1-.08-4.8 4.88 4.88 0 0 0 1.78-1.51c.62-1.07.12-2.42-1.22-3.29l-1.75-1.18A2.71 2.71 0 0 1 14.66 0L13.4.87c-.87.6-1.86 1.28-2.08 1.5a2.52 2.52 0 0 0-.92 2.07 2.27 2.27 0 0 0 1.1 1.67q.86.6 1.78 1.2a2.95 2.95 0 0 1 1.48 2.23 2.63 2.63 0 0 1-1.13 2.2l-1.52.94c-1.48.92-1.94 2.27-1.15 3.36a7.42 7.42 0 0 0 2.36 1.78l.78.48a2.62 2.62 0 0 1 .06 4.8l-.78.5a2.4 2.4 0 0 0-1.26 2 2.8 2.8 0 0 0 1.46 2.3l.49.32a8.56 8.56 0 0 1 2.02 1.6 2.43 2.43 0 0 1 .5 1.82c.82-.6 1.7-1.21 2.71-1.87 1.24-.81 1.82-1.95 1.5-2.98ZM31.3 22.46a2.31 2.31 0 0 0-1-1.3l-1.82-1.23a2.84 2.84 0 0 1-1.45-2.38 3.04 3.04 0 0 1 1.64-2.44l.83-.52a2.35 2.35 0 0 0 1.34-2.03 2.92 2.92 0 0 0-1.73-2.34c-.29-.15-1.76-.97-2.12-1.23h-.01a3.49 3.49 0 0 1-1.96-2.7l-1.12.8a24.4 24.4 0 0 0-2.3 1.72 2.13 2.13 0 0 0-.64 1.88 2.96 2.96 0 0 0 1.54 1.96l2.05 1.23a2.97 2.97 0 0 1 1.64 2.28 2.65 2.65 0 0 1-1.26 2.27 7.43 7.43 0 0 1-.85.54l-.43.25a2.88 2.88 0 0 0-1.6 2.26 2.46 2.46 0 0 0 1.22 2.1l.5.35a7.22 7.22 0 0 1 1.93 1.63 2.06 2.06 0 0 1 .19 1.88c1.02-.6 2.15-1.23 3.44-1.94 1.49-.82 2.24-1.98 1.97-3.03ZM8.51 17.73 6.48 16.5a2.8 2.8 0 0 1-1.59-2.37 3 3 0 0 1 1.72-2.46l.87-.52a2.88 2.88 0 0 0 1.6-2.23A2.42 2.42 0 0 0 7.94 6.8l.01-.01c-.33-.2-1.4-1.02-1.64-1.2A2.16 2.16 0 0 1 5.49 3l-1.07.6c-1.17.66-2.79 1.56-3.1 1.83A2.79 2.79 0 0 0 0 7.64a1.98 1.98 0 0 0 .95 1.6l1.76 1.21A2.6 2.6 0 0 1 2.8 15a7.37 7.37 0 0 1-.83.53l-.43.26A2.48 2.48 0 0 0 .12 17.9a2.81 2.81 0 0 0 1.67 2.27l.76.44a11.7 11.7 0 0 1 2.34 1.53 2.83 2.83 0 0 1 .93 1.99 79 79 0 0 1 2.93-2.02 2.32 2.32 0 0 0 1.08-3.06 3.45 3.45 0 0 0-1.32-1.32Z'
					fill='var(--green)'></path>
			</svg>
		</a>
		<button class='hamburger'>
			<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512' width='28' height='32'>
				<title>Toggle Mobile Menu</title>
				<path
					fill='var(--text-color)'
					d='M0 80C0 71.16 7.164 64 16 64H432C440.8 64 448 71.16 448 80C448 88.84 440.8 96 432 96H16C7.164 96 0 88.84 0 80zM0 240C0 231.2 7.164 224 16 224H432C440.8 224 448 231.2 448 240C448 248.8 440.8 256 432 256H16C7.164 256 0 248.8 0 240zM432 416H16C7.164 416 0 408.8 0 400C0 391.2 7.164 384 16 384H432C440.8 384 448 391.2 448 400C448 408.8 440.8 416 432 416z'
				></path>
			</svg>
		</button>
		<nav class='header-nav'>
			<ul>
				<li>
					<a href='/services/' data-astro-prefetch>
						Services
						<svg xmlns='http://www.w3.org/2000/svg' width='9.75' height='6'>
							<title>dropdown</title>
							<path
								d='M4.08 5.67.33 1.92a1.13 1.13 0 0 1 0-1.59 1.12 1.12 0 0 1 .8-.33 1.12 1.12 0 0 1 .8.33l2.95 2.96L7.84.33a1.12 1.12 0 0 1 .8-.33 1.12 1.12 0 0 1 .8.33 1.13 1.13 0 0 1 0 1.6L5.69 5.66a1.12 1.12 0 0 1-.8.33 1.11 1.11 0 0 1-.81-.33Z'
								fill='currentColor'></path>
						</svg>
					</a>
					<ul>
						<li><a data-astro-prefetch href='/services/content-creation/'>Content Creation</a></li>
						<li><a data-astro-prefetch href='/services/digital-marketing/'>Digital Marketing</a></li>
						<li><a data-astro-prefetch href='/services/ongoing-support/'>Ongoing Support</a></li>
					</ul>
				</li>
				<li>
					<a data-astro-prefetch href='/work/'>
						Work
						<svg xmlns='http://www.w3.org/2000/svg' width='9.75' height='6'>
							<title>dropdown</title>
							<path
								d='M4.08 5.67.33 1.92a1.13 1.13 0 0 1 0-1.59 1.12 1.12 0 0 1 .8-.33 1.12 1.12 0 0 1 .8.33l2.95 2.96L7.84.33a1.12 1.12 0 0 1 .8-.33 1.12 1.12 0 0 1 .8.33 1.13 1.13 0 0 1 0 1.6L5.69 5.66a1.12 1.12 0 0 1-.8.33 1.11 1.11 0 0 1-.81-.33Z'
								fill='currentColor'></path>
						</svg>
					</a>
					<ul>
						<li><a data-astro-prefetch href='/work/'>Case Studies</a></li>
						<li><a data-astro-prefetch href='/work/clients/'>Clients</a></li>
					</ul>
				</li>
				<li><a data-astro-prefetch href="/resources/">Resources</a></li>
				<li><a data-astro-prefetch href='/blog/'>Blog</a></li>
				<li><a data-astro-prefetch href='/about/'>About</a></li>
				<li><a data-astro-prefetch href='/contact/' class='button'>Contact Us</a></li>
			</ul>
		</nav>
	</div>
</header>

<style lang='scss' is:global>
	.header {
		padding: 2rem 0;
		position: fixed;
		left: 0;
		width: 100%;
		top: 0;
		z-index: 99;
		--text-color: var(--black);
		@media (max-width: 767px) {
			padding: 1.25rem 0;
		}
		&.headroom {
			will-change: transform;
			transition: transform 200ms linear;
			transition: background 750ms ease, transform 250ms ease;
			&--pinned {
				transform: translateY(0%);
				background: var(--black);
				--text-color: white;
				--bg-color: var(--black);
			}
			&--unpinned {
				transform: translateY(-100%);
				background: transparent;
				--text-color: var(--black);
				--bg-color: white;
				.mobile-menu-active & {
					transform: translateY(0);
				}
			}
			&--top {
				background: transparent;
				--text-color: var(--black);
				--bg-color: white;
			}
			&--not-top {
				background: var(--black);
				--text-color: white;
				--bg-color: var(--black);
			}
			.has-dark-header & {
				background: var(--black);
				--text-color: white;
				--bg-color: var(--black);
			}
		}
		.wrapper {
			display: flex;
			gap: 1.5rem;
			align-items: center;
		}
		&-logo {
			position: relative;
			z-index: 10;
			display: block;
			svg {
				display: block;
				.header-logo-text {
					fill: var(--text-color);
					transition: 200ms ease;
				}
			}
		}
		.hamburger {
			display: none;
			@media (max-width: 767px) {
				display: block;
				border: 0 none;
				background: none;
				appearance: none;
				margin-left: auto;
				position: relative;
				z-index: 10;
			}
		}
		&-nav {
			ul {
				list-style: none;
				margin: 0;
				padding: 0;
			}
			a {
				font-family: var(--sans-serif);
				color: var(--text-color);
				font-size: 15px;
				font-weight: 600;
				text-decoration: none;
				&.button {
					font-family: var(--serif);
					background-color: var(--text-color);
					color: var(--bg-color);
					&:hover,
					&:focus {
						background-color: var(--purple);
						color: white;
					}
				}
			}
			// mobile styles
			@media (max-width: 767px) {
				position: fixed;
				top: 0;
				left: 0;
				padding: 1rem;
				text-align: center;
				width: 100%;
				height: 100vh;
				background: var(--bg-color);
				display: flex;
				align-items: center;
				justify-content: center;
				visibility: hidden;
				opacity: 0;
				transform: translateX(-100%);
				transition: 350ms ease;
				.mobile-menu-active & {
					opacity: 1;
					visibility: visible;
					transform: translateY(0);
				}
				> ul {
					height: 100%;
					width: 100%;
					padding-top: 5rem;
					padding-bottom: 5rem;
					gap: 3rem;
					display: flex;
					flex-direction: column;
					justify-content: center;
					ul {
						display: none;
						a {
							font-weight: normal;
							font-size: var(--step-0);
						}
					}
				}
				li {
					a {
						font-size: var(--step-1);
					}
				}
				svg {
					display: none;
				}
			}
			// desktop styles
			@media (min-width: 768px) {
				margin-left: auto;
				> ul {
					display: flex;
					align-items: center;
					gap: 1.5rem;
					> li {
						position: relative;
						&:last-child {
							margin-left: 1rem;
						}
						&:hover,
						&:focus-within {
							> ul {
								visibility: visible;
								opacity: 1;
								transform: translate(0px);
								&::before {
									transform: translate(5px, 5px);
									opacity: 1;
								}
								&::after {
									opacity: 1;
								}
							}
						}
						> a {
							display: flex;
							align-items: center;
							gap: 0.5rem;
							color: var(--text-color);
							&:hover:not(.button),
							&:focus:not(.button) {
								color: var(--purple);
							}
						}
						ul {
							position: absolute;
							top: 100%;
							left: 0;
							padding: 0.75rem 1.25rem;
							opacity: 0;
							visibility: hidden;
							transition: 280ms all 120ms ease-out;
							transform: translate(-10px);
							a {
								color: var(--black);
								&:hover,
								&:focus {
									color: var(--purple);
								}
							}
							&:after,
							&:before {
								content: '';
								background: #f7f7f7;
								top: 0;
								left: 0;
								width: 100%;
								height: 100%;
								position: absolute;
								transition: 300ms ease;
								opacity: 0;
								z-index: -1;
							}
							&:after {
								border: 1px solid #eaeaea;
								background: white;
							}
							li {
								display: block;
								white-space: nowrap;
							}
						}
					}
				}
			}
		}
	}
</style>
<script>
	import Headroom from 'headroom.js';
	document.addEventListener('astro:page-load', () => {
		// Sticky header
		const header = document.querySelector('header');
		const headroom = new Headroom(header, {
			offset: {
				up: 50,
				down: 50
			},
			// scroll tolerance in px before state changes
			tolerance: {
				up: 5,
				down: 0
			}
		});
		headroom.init();
	
		// mobile nav
		const burger = document.querySelector('.hamburger');
		burger?.addEventListener('click', function (event) {
			burger.classList.toggle('active');
			document.body.classList.toggle('mobile-menu-active');
		});
	});
</script>
